LLM served by Perplexity Labs
<think> Okay, the user is asking for the full revised styles.css after fixing the mobile menu toggle issue. Let me start by recalling the previous CSS structure and the necessary fixes.

First, the mobile menu wasn't toggling the sidebar. The problem was likely with the CSS transitions or JavaScript handling. The previous CSS used transforms and fixed positioning, but maybe there was an issue with how the active class was applied.

I need to ensure the sidebar uses the 'left' property for sliding in and out, which works better with transitions. Also, the z-index for the mobile menu and sidebar should be correct so the menu button stays on top.

In the JavaScript, switching from modifying the style directly to using classList.toggle('active') is better. So the CSS should have a .sidebar.active class with left: 0; and a default left: -100%; for mobile.

I should check the CSS for any conflicting styles, like duplicate z-index values or incorrect positioning. Also, make sure the transition is applied to the 'left' property.

Another consideration is the viewport and media queries. The desktop styles should reset the sidebar position to static or relative and remove the active class if the window is resized.

I'll structure the CSS with mobile-first approach, handle the sidebar transitions, and ensure proper z-index layering. Also, include styles for the active state of the sidebar and any necessary overrides for desktop views.

Finally, test the CSS changes with the updated JavaScript to make sure clicking the mobile menu toggles the .active class, which in turn slides the sidebar in and out smoothly.
</think>

Here's the full revised CSS with working mobile menu toggle and improved mobile compatibility:

css
/* Base Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    font-size: 16px;
    scroll-behavior: smooth;
}

/* Variables */
:root {
    --sidebar-width: 280px;
    --primary-color: #2c3e50;
    --accent-color: #3498db;
    --text-color: #333;
    --bg-color: #f8f9fa;
}

/* Mobile First Styles */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, sans-serif;
    line-height: 1.6;
    color: var(--text-color);
    background-color: var(--bg-color);
    -webkit-tap-highlight-color: transparent;
}

#mobile-menu {
    display: block;
    position: fixed;
    top: 1rem;
    left: 1rem;
    z-index: 1001;
    font-size: 1.5rem;
    background: var(--primary-color);
    color: white;
    border: none;
    padding: 0.8rem 1.2rem;
    border-radius: 4px;
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    transition: transform 0.3s ease;
}

#mobile-menu.active {
    transform: translateX(var(--sidebar-width));
}

.container {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

/* Sidebar Styles */
.sidebar {
    position: fixed;
    left: -100%;
    top: 0;
    width: 85%;
    max-width: var(--sidebar-width);
    height: 100vh;
    background: white;
    box-shadow: 2px 0 8px rgba(0,0,0,0.1);
    transition: left 0.3s ease-in-out;
    z-index: 1000;
    padding: 1.5rem;
    overflow-y: auto;
}

.sidebar.active {
    left: 0;
}

/* Main Content Area */
.main-content {
    width: 100%;
    padding: 5rem 1rem 2rem;
}

/* Navigation Controls */
.chapter-nav {
    display: none;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
    align-items: center;
}

.chapter-scroll {
    flex: 1;
    min-width: 0;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

.chapter-numbers {
    display: inline-flex;
    gap: 0.5rem;
    padding: 0.5rem 0;
}

#prevChapter,
#nextChapter {
    flex-shrink: 0;
    padding: 0.8rem 1.2rem;
    font-size: 1.1rem;
    background: var(--primary-color);
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.chapter-btn {
    flex-shrink: 0;
    padding: 0.8rem 1.2rem;
    background: white;
    border: 1px solid #ddd;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.chapter-btn.active {
    background: var(--accent-color);
    color: white;
    border-color: var(--accent-color);
}

/* Book List */
.book-list {
    margin-top: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.book-btn {
    width: 100%;
    padding: 1rem;
    background: white;
    border: 1px solid #eee;
    border-radius: 4px;
    text-align: left;
    cursor: pointer;
    transition: all 0.2s ease;
}

.book-btn:hover {
    background: #f8f8f8;
    transform: translateX(4px);
}

/* Verses Display */
.bible-text {
    font-size: 1.1rem;
    line-height: 1.8;
}

.bible-text p {
    margin: 1rem 0;
    padding: 1rem;
    background: white;
    border-radius: 4px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

/* Translation Selector */
.translation-selector {
    margin-bottom: 1.5rem;
}

#translationSelect {
    width: 100%;
    padding: 0.8rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    background: white;
}

/* Desktop Styles */
@media (min-width: 768px) {
    #mobile-menu {
        display: none;
    }
    
    .container {
        flex-direction: row;
        padding-left: var(--sidebar-width);
    }

    .sidebar {
        left: 0;
        width: var(--sidebar-width);
        box-shadow: none;
        border-right: 1px solid #eee;
        transform: none !important;
    }

    .main-content {
        width: calc(100% - var(--sidebar-width));
        padding: 2rem 3rem;
    }

    .chapter-nav {
        gap: 1rem;
    }
}

/* Loading States */
.loading-indicator {
    display: none;
    text-align: center;
    padding: 2rem;
}

.loading-indicator.visible {
    display: block;
}

.spinner {
    width: 40px;
    height: 40px;
    margin: 0 auto;
    border: 4px solid #f3f3f3;
    border-top: 4px solid var(--accent-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.error {
    color: #dc3545;
    padding: 1rem;
    background: #ffe6e6;
    border-radius: 4px;
    margin: 1rem 0;
}

/* Firefox Android Fixes */
@-moz-document url-prefix() {
    .chapter-scroll {
        scrollbar-width: thin;
        scrollbar-color: var(--accent-color) transparent;
    }
}
